{"ast":null,"code":"import Firebase from '../pages/api/auth/firebase';\n\nconst formatAuthUser = user => ({\n  uid: user.uid,\n  email: user.email\n});\n\nexport default function useFirebaseAuth() {\n  const [authUser, setAuthUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const authStateChanged = async authState => {\n    if (!authState) {\n      setAuthUser(null);\n      setLoading(false);\n      return;\n    }\n\n    setLoading(true);\n    var formattedUser = formatAuthUser(authState);\n    setAuthUser(formattedUser);\n    setLoading(false);\n  }; // listen for Firebase state change\n\n\n  useEffect(() => {\n    const unsubscribe = Firebase.auth().onAuthStateChanged(authStateChanged);\n    return () => unsubscribe();\n  }, []);\n  return {\n    authUser,\n    loading\n  };\n}","map":{"version":3,"sources":["/Users/davidvega/code/webstarter/client/components/useFirebaseAuth.js"],"names":["Firebase","formatAuthUser","user","uid","email","useFirebaseAuth","authUser","setAuthUser","useState","loading","setLoading","authStateChanged","authState","formattedUser","useEffect","unsubscribe","auth","onAuthStateChanged"],"mappings":"AACA,OAAOA,QAAP,MAAqB,4BAArB;;AAEA,MAAMC,cAAc,GAAIC,IAAD,KAAW;AAChCC,EAAAA,GAAG,EAAED,IAAI,CAACC,GADsB;AAEhCC,EAAAA,KAAK,EAAEF,IAAI,CAACE;AAFoB,CAAX,CAAvB;;AAKA,eAAe,SAASC,eAAT,GAA2B;AACxC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BC,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBF,QAAQ,CAAC,IAAD,CAAtC;;AAEA,QAAMG,gBAAgB,GAAG,MAAOC,SAAP,IAAqB;AAC5C,QAAI,CAACA,SAAL,EAAgB;AACdL,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAG,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA;AACD;;AAEDA,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,QAAIG,aAAa,GAAGZ,cAAc,CAACW,SAAD,CAAlC;AACAL,IAAAA,WAAW,CAACM,aAAD,CAAX;AACAH,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAXD,CAJwC,CAiBxC;;;AACAI,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMC,WAAW,GAAGf,QAAQ,CAACgB,IAAT,GAAgBC,kBAAhB,CAAmCN,gBAAnC,CAApB;AACA,WAAO,MAAMI,WAAW,EAAxB;AACD,GAHQ,EAGN,EAHM,CAAT;AAKA,SAAO;AACLT,IAAAA,QADK;AAELG,IAAAA;AAFK,GAAP;AAID","sourcesContent":["\nimport Firebase from '../pages/api/auth/firebase';\n\nconst formatAuthUser = (user) => ({\n  uid: user.uid,\n  email: user.email,\n});\n\nexport default function useFirebaseAuth() {\n  const [authUser, setAuthUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const authStateChanged = async (authState) => {\n    if (!authState) {\n      setAuthUser(null);\n      setLoading(false);\n      return;\n    }\n\n    setLoading(true);\n    var formattedUser = formatAuthUser(authState);\n    setAuthUser(formattedUser);\n    setLoading(false);\n  };\n\n  // listen for Firebase state change\n  useEffect(() => {\n    const unsubscribe = Firebase.auth().onAuthStateChanged(authStateChanged);\n    return () => unsubscribe();\n  }, []);\n\n  return {\n    authUser,\n    loading,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}